{
  "hash": "29a0cf5a2e402885928050e087c082f4",
  "result": {
    "markdown": "---\ntitle: FAQ\nsubtitle: \"Frequently Asked Questions\"\ndate: \"\"\nauthor: \"\"\ncode-tools: false\nformat: html\ndescription: Troubleshooting common errors you might face during installations or labs.\nexecute: \n  eval: false\nengine: knitr\n---\n\n\n## Command line developer tools not found\n\n[{{< fa brands apple >}}]{.badge .badge-primary}\n\nIf you don't yet have Mac OSX command line developer tools, please install it using:\n\n```bash\nxcode-select --install\n```\n\n## Error: umap-learn not found, or other python packages\n\n[{{< fa brands r-project >}}]{.badge .badge-primary}  \n\nIf your R does not find the correct python version, it will complain that `umap-learn` is not installed and ask you to install it. Here are some tips on how to find the correct python version that was installed in the conda environment.\n\nTry selecting the correct conda env in R. In this example the conda environment is named `myenv`.\n\n```r\nlibrary(reticulate)\nreticulate::use_conda(\"myenv\")\n```\n\nThen check what python you have in R:\n\n```r\nreticulate::py_config()\n# should read at top:\npython:         /Users/asbj/miniconda3/envs/myenv/bin/python\n```\n\nIf that still is not right, you may have an `r-reticulate` python installation as well and need to perform the steps below.\n\n- Restart R and select python version\n- First, find out what path you have to your conda python (in TERMINAL):\n\n```bash\nwhich python\n/Users/asbj/miniconda3/envs/scRNAseq2021/bin/python\n```\n\n- Then in R (after restarting):\n\n```r\nreticulate::use_python(\"/Users/asbj/miniconda3/envs/scRNAseq2021/bin/python\", required=T)\n```\n\n- Then check again with `py_config` if correct version of python is used:\n\n```r\nreticulate::py_config()\n```\n\n- If you have the correct version now, you should be able to run UMAP without issues.\n\n## Unable to load stringi.so\n\n[{{< fa brands windows >}}]{.badge .badge-primary} [{{< fa brands ubuntu >}}]{.badge .badge-primary}  \n\nYou can install stringi in R using:\n\n```r\ninstall.packages('stringi')\n```\n\n## ERROR: Failed building wheel for gevent / MacOSX10.9.sdk missing\n\n[{{< fa brands apple >}}]{.badge .badge-primary}  \n\nThis is a problem with the MacOSX compiler, in which conda is unable to find it.\n\n```bash\n#Download MacOSX10.9.sdk from Github\ncurl -o MacOSX10.9.sdk.tar.gz \"https://github.com/phracker/MacOSX-SDKs/releases/download/11.3/MacOSX10.9.sdk.tar.xz\"\n\n#extract\nsudo tar -xzf MacOSX10.9.sdk.tar.xz\n\n#copy\nsudo cp -r MacOSX10.9.sdk /opt/\n\n#give executable permissions\nsudo chmod -R a+rX /opt\n\n#Link the path where conda looks to where the file is\nln -s /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk /opt/MacOSX10.9.sdk\n```\n\n## ERROR: option error has NULL value\n\n[{{< fa brands r-project >}}]{.badge .badge-primary}  \n\nThis error happens when running code inline. One possible solution is to restart Rstudio and type.\n\n```r\nif(interactive()) { options(error = utils::recover)}\n```\n\nPlease try other solutions listed [here](https://github.com/rstudio/rstudio/issues/4723). If none of those work, you can click on the wheel engine symbol and check `Chunk output in console`.\n\n## R crashes due to memory issues\n\n[{{< fa brands r-project >}}]{.badge .badge-primary}\n\nIf R crashes due to memory issues, it may be a good idea to increase the vector size `R_MAX_VSIZE`. Put in the file `.Renviron` either in your home directory or the folder you are launching Rstudio from:\n\n```r\nR_MAX_VSIZE=70Gb\n```\n\nOr to whatever value matches your computer, the default size is 16Gb.\n\n## Docker run fails on Mac apple silicon\n\nDocker run on Apple Mac M1/M2/M3 processors experience this error when running `docker run ...` on an image not built on Apple silicon.\n\n```\n[s6-init] making user provided files available at /var/run/s6/etc...exited 0.\n[s6-init] ensuring user provided files have correct perms...exited 0.\n[fix-attrs.d] applying ownership & permissions fixes...\n[fix-attrs.d] done.\n[cont-init.d] executing container initialization scripts...\n[cont-init.d] 01_set_env: executing...\nskipping /var/run/s6/container_environment/HOME\nskipping /var/run/s6/container_environment/PASSWORD\nskipping /var/run/s6/container_environment/RSTUDIO_VERSION\n[cont-init.d] 01_set_env: exited 0.\n[cont-init.d] 02_userconf: executing...\n[cont-init.d] 02_userconf: exited 0.\n[cont-init.d] done.\n[services.d] starting services\n[services.d] done.\nTTY detected. Printing informational message about logging configuration. Logging configuration loaded from '/etc/rstudio/logging.conf'. Logging to 'syslog'.\nrserver[1195]: ERROR system error 1 (Operation not permitted); OCCURRED AT rstudio::core::Error rstudio::core::system::posix::{anonymous}::restorePrivilegesImpl(uid_t) src/cpp/shared_core/system/PosixSystem.cpp:97; LOGGED FROM: void rstudio::server::pam_auth::{anonymous}::assumeRootPriv() src/cpp/server/ServerPAMAuth.cpp:59\n\n2023-11-28T14:31:03.943703Z [rserver] ERROR system error 1 (Operation not permitted); OCCURRED AT rstudio::core::Error rstudio::core::system::posix::{anonymous}::restorePrivilegesImpl(uid_t) src/cpp/shared_core/system/PosixSystem.cpp:97; LOGGED FROM: void rstudio::server::pam_auth::{anonymous}::assumeRootPriv() src/cpp/server/ServerPAMAuth.cpp:59\nrserver[1199]: ERROR system error 1 (Operation not permitted); OCCURRED AT rstudio::core::Error rstudio::core::system::posix::{anonymous}::restorePrivilegesImpl(uid_t) src/cpp/shared_core/system/PosixSystem.cpp:97; LOGGED FROM: rstudio::core::Error rstudio::core::system::launchChildProcess(std::string, std::string, rstudio::core::system::ProcessConfig, rstudio::core::system::ProcessConfigFilter, PidType*) src/cpp/core/system/PosixSystem.cpp:2195\n```\n\nIn Docker Settings > General, check **Use Rosetta for x86/amd64 emulation on Apple Silicon**.\n\n***\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}